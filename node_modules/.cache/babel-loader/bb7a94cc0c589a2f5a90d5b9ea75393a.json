{"ast":null,"code":"var _jsxFileName = \"/home/spandan/projects-practice/calculator/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport PostFixEquation from './implementation/postfixEquation';\nimport calculateExpression from './implementation/calculate';\nimport PressKey from './components/PressKey/PressKey';\nimport DisplayScreen from './components/DisplayScreen/DisplayScreen';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.changeResult = keyValue => {\n      const notDuplicate = ['%', '/', '*', '-', '.', '=', '+'];\n      let tempResult = []; // console.log(this.state.output);\n\n      let compareResult = [];\n\n      if (this.state.output === true) {\n        compareResult = ['0'];\n        this.setState({\n          output: false\n        });\n      } else {\n        if (lastElement === '0' && length == 1) {\n          this.state.result.pop();\n        }\n\n        compareResult = [...this.state.result];\n      }\n\n      let length = compareResult.length;\n      let lastElement = compareResult[length - 1];\n\n      if (keyValue === 'AC') {\n        tempResult = ['0'];\n      } else if (notDuplicate.includes(keyValue) && notDuplicate.includes(lastElement)) {\n        tempResult = [...this.state.result];\n      } else if (keyValue === '=') {\n        let equation = new PostFixEquation(this.state.result);\n        let postfix = equation.covertToEquation(); // console.log(postfix);\n\n        let calculatedResult = calculateExpression(postfix);\n        tempResult = calculatedResult;\n        this.setState({\n          output: true\n        });\n      } else {\n        tempResult = [...this.state.result, keyValue];\n      }\n\n      this.setState({\n        result: tempResult\n      });\n    };\n\n    this.state = {\n      result: ['0'],\n      output: false\n    };\n  }\n\n  render() {\n    const displayLetters = ['(', ')', '%', 'AC', '7', '8', '9', '/', '4', '5', '6', '*', '1', '2', '3', '-', '0', '.', '=', '+'];\n    const pressKeyItems = displayLetters.map(displayLetter => React.createElement(PressKey, {\n      className: \"press-key\",\n      key: displayLetter.toString(),\n      value: displayLetter,\n      onClick: e => this.changeResult(e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }));\n    return React.createElement(\"div\", {\n      className: \"main-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(DisplayScreen, {\n      value: this.state.result,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), pressKeyItems);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/spandan/projects-practice/calculator/src/App.js"],"names":["React","Component","PostFixEquation","calculateExpression","PressKey","DisplayScreen","App","constructor","changeResult","keyValue","notDuplicate","tempResult","compareResult","state","output","setState","lastElement","length","result","pop","includes","equation","postfix","covertToEquation","calculatedResult","render","displayLetters","pressKeyItems","map","displayLetter","toString","e","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport './App.css';\n\nimport PostFixEquation from './implementation/postfixEquation';\nimport calculateExpression from './implementation/calculate';\n\nimport PressKey from './components/PressKey/PressKey';\nimport DisplayScreen from './components/DisplayScreen/DisplayScreen';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      result: ['0'],\n      output: false\n    }\n  }\n\n\n\n  changeResult = keyValue => {\n    const notDuplicate = [\n      '%', '/', '*', '-', '.', '=', '+'\n    ];\n    let tempResult = [];\n    // console.log(this.state.output);\n    let compareResult = [];\n    if(this.state.output === true){\n      compareResult = ['0'];\n      this.setState({\n        output: false\n      })\n    }\n    \n    else{\n      if (lastElement === '0' && length == 1) {\n        this.state.result.pop();\n      }\n      compareResult = [...this.state.result];\n    }\n    \n    let length = compareResult.length;\n    let lastElement = compareResult[length - 1]\n\n    \n\n    if (keyValue === 'AC') {\n      tempResult = ['0'];\n    }\n    \n    else if (notDuplicate.includes(keyValue) && notDuplicate.includes(lastElement)) {\n      tempResult = [...this.state.result];\n    }\n\n    else if (keyValue === '=') {\n      let equation = new PostFixEquation(this.state.result);\n      let postfix = equation.covertToEquation();\n      // console.log(postfix);\n      let calculatedResult = calculateExpression(postfix);\n      tempResult = calculatedResult;\n      this.setState({\n        output: true\n      })\n    }\n\n    else {\n      tempResult = [...this.state.result, keyValue];\n\n    }\n\n    this.setState({\n      result: tempResult\n    })\n\n  }\n\n\n  render() {\n    const displayLetters = [\n      '(', ')', '%', 'AC', '7', '8', '9', '/', '4', '5', '6', '*', '1', '2', '3', '-', '0', '.', '=', '+'\n    ]\n\n    const pressKeyItems = displayLetters.map((displayLetter) =>\n      <PressKey className=\"press-key\" key={displayLetter.toString()} value={displayLetter} onClick={e => this.changeResult(e.target.value)}>\n      </PressKey>\n    );\n\n    return (\n      <div className=\"main-wrapper\">\n        <DisplayScreen value={this.state.result}></DisplayScreen>\n        {pressKeyItems}\n      </div>\n    )\n  }\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}